<!DOCTYPE html>
<!--[if lte IE 7]>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<![endif]-->
<html>
    <head>
        <link rel="stylesheet" media="all" type="text/css" href="static/css/stacklayout.css" />
        <link rel="stylesheet" media="all" type="text/css" href="static/css/map.css" />
        <!--[if lte IE 7]>
        <link rel="stylesheet" media="all" type="text/css" href="static/css/stacklayout_lte_ie7.css" />
        <link rel="stylesheet" media="all" type="text/css" href="static/css/map_ie.css" />
        <![endif]-->
    </head>
    <body>
        <a href="https://github.com/etiennekruger/census-za"><img style="position: absolute; top: 0; right: 0; border: 0;" src="/static/img/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
        <div id="page">
            <div class="stack">
                <div id="header">
                    <div class="stackContent">
                        <h1>Census Map</h1>
                    </div>
                </div>
                <div id="content">
                    <div id="graphblock 2x2" class="stack3of4">
                        <div id="toprow stack">
                            <div class="stack1of2">
                                <div id="tl" class="stackContent mapcell">
                                </div>
                            </div>
                            <div class="stack1of2">
                                <div id="tr" class="stackContent mapcell">
                                </div>
                            </div>
                        </div>
                        <div id="bottomrow stack">
                            <div class="stack1of2">
                                <div id="bl" class="stackContent mapcell">
                                </div>
                            </div>
                            <div class="stack1of2">
                                <div id="br" class="stackContent mapcell">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="column2" class="stack1of4">
                        <div class="stackContent filterbox">
                            <p>Search for Indicator</p>
                            <input type="text" id="searchBox"/>
                            <ul id="indicatorlist">
                            </ul>
                        </div>
                    </div>
                </div>
                <div id="footer" class="stackAuto">
                    <div class="stackContent">
                        <h3>HacksHackers Cape Town</h3>
                        <p class="footnote">
                        Note - this is an early proof-of-concept. It currently only works on recent versions of Chrome, Firefox and (possibly) Safari.</p>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript" src="static/js/d3.v2.min.js"></script>
        <script src="polymaps.min.js"></script>
        <script type="text/javascript" src="static/js/layouts.js"></script>
        <script type="text/javascript">

            indicatorlist = new IndicatorList({
                data : indicators,
                rootElement : "#indicatorlist"
            }); 
            indicatorlist.display();

            tlMap = new MapCell(d3.select("#tl"));
            tlMap.draw("/static/tiles/hh_income/{Z}/{X}/{Y}.png", "Household incomes");

            trMap = new MapCell(d3.select("#tr"));
            trMap.draw("/static/tiles/hh_density/{Z}/{X}/{Y}.png", "Household density");

            blMap = new MapCell(d3.select("#bl"));
            blMap.draw("/static/tiles/hh_income/{Z}/{X}/{Y}.png", "Household income");

            brMap = new MapCell(d3.select("#br"));
            brMap.draw("/static/tiles/hh_income/{Z}/{X}/{Y}.png", "Household income");
            
        </script>
    </body>
</html>
